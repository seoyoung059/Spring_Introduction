- H2
	- 교육용으로 좋음
	- 용량도 작고, 가볍고, 웹 화면도 제공

### JDBC
- 자바는 db랑 붙으려면 jdbc가 필요
- db랑 붙을 때 db가 제공하는 클라이언트 필요 (여기서는 h2)

- save
	- sql
	- resultset 결과를 받음
	- RETURN GENERATE KEY
		- db 인서트 시 id값을 받음
	- exception try-catch 처리
	- 리소스 반환
		- db 커넥션 계속 쌓이다가 장애 날수도
	- 복잡하다
- 조회
	- execute query
	- rs 받아와서 값이 있으면 객체를 만들고 반환

- 데이터소스 유틸스를 통해서 커넥션 획득
	- 이전 트랜젝션 걸릴 때 커넥션 유지해야해서
	- utils 통해서 얻고 release

- config
	- spring config
	- 메모리 멤버 리포지토리를 jdbc 멤버 리포지토리로 바꾸고,
	- 데이터소스 auto-wired하거나 construct 하고 auto-wired 하여 스프링이 데이터 소스 제공
		- spring-boot가 자체적으로 데이터소스를 만들어서 DI
	- 다른 코드 변경 없이
		- jdbc 멤버 리포지토리 만들고
		- 인터페이스 확장
		- 이후 configuration 수정

- 스프링을 사용하는 이유
	- 다형성을 활용하여 인터페이스를 두고 구현체를 바꿔끼기 가능
	- DI를 통해 이를 매우 편리하게 할 수 있음
	- 기존 코드 손대지 않고 오직 애플리케이션을 설정하는 코드만 수정하면 그 외의 앱 코드는 수정할 일이 없다.
	- ![[스크린샷 2024-03-10 오후 10.18.11.png]]
		- 멤버 서비스는 멤버 리포지토리를 의존
		- 멤버 리포지토리는 구현체로 메모리 멤버 리포지토리와 jdbc 멤버 리포지토리를 갖는다
		- 기존에는 메모리 버전의 멤버 리포지토리를 스프링 빈으로 등록
		- 이후에는 jdbc 버전의 멤버 리포지토리를 등록
			- 그 외의 수정 x
		- SOLID 단일 책임 원칙 만족
			- 개방 폐쇄 원칙
				- 확장에는 열려있고 수정에는 닫혀있다.
					- 확장: 기능추가
					- 수정: 코드변경
		- 다형성을 잘 활용하면 기능을 변경해도 수정을 적게 할 수 있다.
	- DI를 활용하면 기존 코드를 손대지 않고 설정만으로 구현 클래스를 변경
		- 이는 스프링이 해준다.
	